# Go语言的接口概念

## 一、接口的概念

(使用Google Guice实现依赖注入（课程拓展）)

针对问题：当项目由多个人开发的情况时，发现更改不同包下的同一变量名十分复杂，这样我们需要使用到接口，则我们采用了接口，接口也可以认为是一种模板，规范，代表不同的结构体进行相同意义的操作，也就是所谓的规范了某种操作。

## 二、定义接口

```go
//? : Something that can Get
type retriver interface {
   Get(string) string
}
```

这样我们retriver为类型名，同时Get为需要实现的方法，这样我们得到的函数如下

```go
func getRetriever() retriver {
   return infra.Retriever{}
}
```

这里与Java中不一样的是，Java中类调用接口需要在后面声明也就是implement，而在go语言中不需要声明我调用了某个接口，需要实现这个接口，这里也是go语言先进的地方

## 三、duck typing

为什么要引入这一个概念，也就是说我们不管某种东西从种类上是否是鸭子，但是它提供给我们鸭子的能力和属性，那么我们就认为它就是鸭子，也就是我们描述事物的外部形象而非内部结构，严格来说go属于结构化类型系统，类似duck typing，这里我们看一下Python语言实现的操作

![image-20220710222701738](Images/image-20220710222701738.png)

也就是所谓的只有在调用时才能知道这个变量是否含有这个函数。

C++中的duck typing

![image-20220711221943439](Images/image-20220711221943439.png)

利用模板类型来进行操作，编译时才知道传入的retriver有没有进行get，需要注释来说明方法。

而Java中严格规定接口类型一旦被调用，则一定需要实现其中的方法，但是我们可以写出类似的代码，

![image-20220711222130343](Images/image-20220711222130343.png)

这里还是利用了继承的方法，则强制要求其实现这个方法，这里不是duck typing

![image-20220711222516813](Images/image-20220711222516813.png)

